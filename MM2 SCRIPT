-- Loads Rayfield And Creates Window
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Bird Hub",
   Icon = "bird", 
   LoaingTitle = "Bird Hub",
   LoadingSubtitle = "by B1RD",
   Theme = "Default",

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,

   ConfigurationSaving = {
      Enabled = false,
      FolderName = "BirdHub",
      FileName = "Bird Hub"
   },

   Discord = {
      Enabled = false,
      Invite = "noinvitelink", 
      RememberJoins = true
   },

   KeySystem = true, 
   KeySettings = {
      Title = "BirdHub KeySystem",
      Subtitle = "",
      Note = "", 
      FileName = "B1RDKEY", 
      SaveKey = true, 
      GrabKeyFromSite = false, 
      Key = {"B1KEY", "B2KEY"} 
   }
})

-- Notifys user that it has been executed
Rayfield:Notify({
    Title = "Welcome",
    Content = "B1RD Hub has succesfully been executed. Enjoy!",
    Duration = 3,
    Image = "bird",
 })

 -- Home Tab & Section

local MainTab = Window:CreateTab("Home")
local AutoSection = MainTab:CreateSection("Auto Farm")

-- Creates Coin Autfarm

local Toggle = MainTab:CreateToggle({
    Name = "AutoCoin",
    CurrentValue = false,
    Flag = "AutoCoin1",
    Callback = function(Value)
         Rayfield:Notify({
          Title = "Auto Coin " .. (Value and "Enabled" or "Disabled"),
          Content = Value and "If you are AFKing, we recommend using a white screen to reduce lag." or "Auto Coin has been disabled.",
          Duration = 6.5,
          Image = "coins",
          })
 
        local player = game.Players.LocalPlayer
 
        local function startAutoCoin()
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
            local running = true  
 
            local function getClosestCoin()
                local closestCoin = nil
                local minDistance = math.huge
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("BasePart") and obj.Name == "Coin_Server" then
                        local distance = (humanoidRootPart.Position - obj.Position).Magnitude
                        if distance < minDistance then
                            minDistance = distance
                            closestCoin = obj
                        end
                    end
                end
                return closestCoin
            end
 
            local function teleportToCoin(target)
                if not target or not target.Parent then return end
                humanoidRootPart.CFrame = target.CFrame + Vector3.new(0, 2, 0)
                task.wait(math.random(0.25, 0.5))  
            end
 
            task.spawn(function()
                while Value do 
                    if not running then return end
 
                    local closestCoin = getClosestCoin()
                    if closestCoin then
                        teleportToCoin(closestCoin)
                    end
                    task.wait(math.random(0.25, 0.5)) 
                end
            end)
 
            if not Value then
                running = false
            end
        end
 
        startAutoCoin()
 
        player.CharacterAdded:Connect(function()
            if Value then
                startAutoCoin()
            end
        end)
    end
 }) 

local TpSection = MainTab:CreateSection("Misc")

local button = MainTab:CreateButton({
    Name = "teleport up 100 studs",
    Callback = function()
        local player = game.Players.LocalPlayer
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            character.HumanoidRootPart.CFrame = character.HumanoidRootPart.CFrame + Vector3.new(0, 100, 0)
        end
    end
})

local button = MainTab:CreateButton({
    Name = "Unban VC",
    Callback = function()
        local voiceChatService = game:GetService("VoiceChatService")
        voiceChatService:joinVoice()
    end
})

local DetTab = Window:CreateTab("Detection & Callout")

local DetSection = DetTab:CreateSection("Detection")

-- Creates Detect Murderer

local Button = DetTab:CreateButton({
   Name = "Detect Murderer",
   Callback = function()
       task.spawn(function()
           for _, player in pairs(game.Players:GetPlayers()) do
               if player.Character then
                   local backpack = player:FindFirstChild("Backpack")
                   
                   for _, tool in pairs(player.Character:GetChildren()) do
                       if tool:IsA("Tool") and tool.Name:lower() == "knife" then
                           Rayfield:Notify({
                               Title = player.Name,
                               Content = player.Name .. " is the murderer!",
                               Duration = 6.5,
                               Image = "Slice",
                           })
                           return
                       end
                   end

                   if backpack then
                       for _, tool in pairs(backpack:GetChildren()) do
                           if tool:IsA("Tool") and tool.Name:lower() == "knife" then
                               Rayfield:Notify({
                                   Title = player.Name,
                                   Content = player.Name .. " is the murderer!",
                                   Duration = 6.5,
                                   Image = "Slice",
                               })
                               return
                           end
                       end
                   end
               end
           end
           Rayfield:Notify({
               Title = "No Murderer Found",
               Content = "No player with a knife was detected.",
               Duration = 5,
               Image = "Slice",
           })
       end)
   end,
})


-- Creates Detect Sheriff

local Button = DetTab:CreateButton({
   Name = "Detect Sheriff",
   Callback = function()
       task.spawn(function()
           for _, player in pairs(game.Players:GetPlayers()) do
               if player.Character then
                   local backpack = player:FindFirstChild("Backpack")
                   
                   for _, tool in pairs(player.Character:GetChildren()) do
                       if tool:IsA("Tool") and tool.Name:lower() == "gun" then
                           Rayfield:Notify({
                               Title = player.Name,
                               Content = player.Name .. " is the sheriff!",
                               Duration = 6.5,
                               Image = "Drill",
                           })
                           return
                       end
                   end

                   if backpack then
                       for _, tool in pairs(backpack:GetChildren()) do
                           if tool:IsA("Tool") and tool.Name:lower() == "gun" then
                               Rayfield:Notify({
                                   Title = player.Name,
                                   Content = player.Name .. " is the sheriff!",
                                   Duration = 6.5,
                                   Image = "Drill",
                               })
                               return
                           end
                       end
                   end
               end
           end
           Rayfield:Notify({
               Title = "No Sheriff Found",
               Content = "No player with a gun was detected.",
               Duration = 5,
               Image = "Drill",
           })
       end)
   end,
})

--creates callout section

local CalSection = DetTab:CreateSection("Callouts")

-- creates callout murderer

local Button = DetTab:CreateButton({
    Name = "Callout Murderer",
    Callback = function()
        task.spawn(function()
            for _, player in pairs(game.Players:GetPlayers()) do
                if player.Character then
                    local backpack = player:FindFirstChild("Backpack")
                    
                    for _, tool in pairs(player.Character:GetChildren()) do
                        if tool:IsA("Tool") and tool.Name:lower() == "knife" then
                            game:GetService("TextChatService").TextChannels:WaitForChild("RBXGeneral"):SendAsync(player.Name .. " is the murderer!")
                            return
                        end
                    end
 
                    if backpack then
                        for _, tool in pairs(backpack:GetChildren()) do
                            if tool:IsA("Tool") and tool.Name:lower() == "knife" then
                                game:GetService("TextChatService").TextChannels:WaitForChild("RBXGeneral"):SendAsync(player.Name .. " is the murderer!")
                                return
                            end
                        end
                    end
                end
            end
            Rayfield:Notify({
                Title = "No Murderer Found",
                Content = "No player with a knife was detected.",
                Duration = 6.5,
                Image = "Slice",
            })
        end)
    end,
 })

-- creates call out sheriff

 local Button = DetTab:CreateButton({
    Name = "Callout Sheriff",
    Callback = function()
        task.spawn(function()
            for _, player in pairs(game.Players:GetPlayers()) do
                if player.Character then
                    local backpack = player:FindFirstChild("Backpack")
                    
                    for _, tool in pairs(player.Character:GetChildren()) do
                        if tool:IsA("Tool") and tool.Name:lower() == "gun" then
                            game:GetService("TextChatService").TextChannels:WaitForChild("RBXGeneral"):SendAsync(player.Name .. " is the sheriff!")
                            return
                        end
                    end
 
                    if backpack then
                        for _, tool in pairs(backpack:GetChildren()) do
                            if tool:IsA("Tool") and tool.Name:lower() == "gun" then
                                game:GetService("TextChatService").TextChannels:WaitForChild("RBXGeneral"):SendAsync(player.Name .. " is the Sheriff!")
                                return
                            end
                        end
                    end
                end
            end
            Rayfield:Notify({
                Title = "No Sheriff Found",
                Content = "No player with a gun was detected.",
                Duration = 6.5,
                Image = "Drill",
            })
        end)
    end,
 })


-- Creates Settings Tab

local SettingTab = Window:CreateTab("Settings", "cog")

-- Creates destroy interface button

local DeSection =  SettingTab:CreateSection("Destroy Interface")

local button = SettingTab:CreateButton({
    Name = "Destroy Interface",
    Callback = function()
        Rayfield:Destroy()
    end
})

-- Creates White Screen Button

local button = SettingTab:CreateButton({
    Name = "White Screen",
    Callback = function()
    while true do
        local player = game.Players.LocalPlayer
        local playerGui = player:FindFirstChildOfClass("PlayerGui")
      
        local screenGui = Instance.new("ScreenGui")
        screenGui.Parent = playerGui
      
        local whiteFrame = Instance.new("Frame")
        whiteFrame.Size = UDim2.new(2, 0, 2, 0)
        whiteFrame.Position = UDim2.new(-0.5, 0, -0.5, 0)
        whiteFrame.BackgroundColor3 = Color3.new(1, 1, 1)
        whiteFrame.BorderSizePixel = 0
        whiteFrame.Parent = screenGui
        end
    end
})


local section = SettingTab:CreateSection("Load Scripts")

local Button = SettingTab:CreateButton({
   Name = "Reload Script",
   Callback = function()
      loadstring(game:HttpGet("https://raw.githubusercontent.com/BRD1-1/DevMode/refs/heads/main/MM2%20SCRIPT", true))()
   end
})

local Button = SettingTab:CreateButton({
   Name = "Dev Mode Script",
   Callback = function()
      loadstring(game:HttpGet("https://raw.githubusercontent.com/BRD1-1/DevMode/refs/heads/main/Main%20Script", true))()
   end
})
